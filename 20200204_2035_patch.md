main.py
```
setCookiesFile(os.getcwd()+"\\cookies.txt");
initUrllib();
# 删除initUrllibNoCookies();
```



utils.py
```
def initUrllib():
    cookies_file = get_value("cookiesFile");
    print( cookies_file );
    cookie = http.cookiejar.LWPCookieJar()
    cookie.load( cookies_file, ignore_discard=True, ignore_expires=True)
    handler = urllib.request.HTTPCookieProcessor(cookie)
    opener = urllib.request.build_opener(handler)
    UA = getUA();
    headers=("User-Agent", UA);
    opener.addheaders=[headers];
    urllib.request.install_opener(opener)
    set_value("urllib",urllib);

def setCookiesFile( cookies_file ):
    set_value( "cookiesFile", cookies_file );
```



增加cookies.txt文件
```
#LWP-Cookies-2.0
// Semicolon separated Cookie File
// This file was generated by EditThisCookie
// Details: http://www.cookiecentral.com/faq/#3.5
// Example: http://www.tutorialspoint.com/javascript/javascript_cookies.htm
// URL: https://lib-nuanxin.wqxuetang.com/#/Book/3202765
Set-Cookie3: PHPSESSID={Here Input You Cookies}; path="/"; domain=.wqxuetang.com; path_spec; expires="0"; version=0
```

用[`[fcapano/Edit-This-Cookie)]`](fcapano/Edit-This-Cookie)获取`PHPSESSID`替换到{Here Input You Cookies}